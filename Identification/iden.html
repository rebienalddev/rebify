

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rebify | Identification Quiz</title>
    
    <link rel="stylesheet" href="../navbar.css">
    <link rel="stylesheet" href="../HomePage/home.css">
    <link rel="stylesheet" href="multiple.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';</script>
<link rel="stylesheet" href="../Identification/iden.css">
</head>
<body>

    <div class="mobile-header">
        <div class="logo">REBIFY</div>
        <div class="hamburger" id="hamburgerBtn"><i class="fas fa-bars"></i></div>
    </div>

    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>REBIFY</h2>
        </div>
        <ul class="nav-links">
            <li class="nav-upload-item">
                <input type="file" id="navPdfUpload" accept=".pdf,.txt" hidden>
                <label for="navPdfUpload"><i class="fas fa-file-pdf" style="color: #ff4d4d;"></i> <span id="navFileName">Upload Material</span></label>
            </li>
            <li><a onclick="Home()"><i class="fas fa-home"></i> Home</a></li>
            <li><a onclick="MultipleQuiz()" ><i class="fas fa-list-ul"></i> Multiple Quiz</a></li>
            <li><a onclick="FlashCard()" href="#"><i class="fas fa-layer-group"></i> Flash Cards</a></li>
            <li class="active"><a onclick="Identification()" href="#"><i class="fas fa-fingerprint"></i> Identification</a></li>
            <li><a onclick="Pomodoro()" href="#"><i class="fas fa-stopwatch"></i> Timer </a></li>
            <li class="logout-item">
                <a href="../logout.php" style="color: #ff4d4d;">
                    <i class="fas fa-sign-out-alt" style="color: #ff4d4d;"></i> Logout
                </a>
            </li>
        </ul>
    </nav>

    <main class="main-content">
        <div id="quiz-container">
            <header class="quiz-top">
                <h1>Identification <span>Quiz</span></h1>
                <p id="quiz-status">Paste notes below or upload a file to generate questions.</p>
            </header>

            <div id="setup-section" class="card">
                <h3>Quiz Settings</h3>
                <div class="input-group">
                    <label>Study Material Content</label>
                    <textarea id="quizText" style="width:100%; min-height:150px; background:#111; color:#ddd; border:1px solid #333; padding:10px;" placeholder="Paste your lesson notes here..."></textarea>
                </div>
                <div class="config-grid">
                    <div class="input-group">
                        <label>Questions</label>
                        <select id="numQuestions">
                            <option value="5">5 Questions</option>
                            <option value="10">10 Questions</option>
                            <option value="15">15 Questions</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Difficulty (Word Length)</label>
                        <select id="difficulty">
                            <option value="Easy">Easy (Short Words)</option>
                            <option value="Medium" selected>Medium</option>
                            <option value="Hard">Hard (Long Words)</option>
                        </select>
                    </div>
                </div>
                <button onclick="processAndStartQuiz()" class="btn-primary" style="width:100%; padding:15px; background:#00d4ff; border:none; font-weight:bold; cursor:pointer;">Generate Quiz</button>
            </div>

            <div id="loading-spinner" style="display:none; text-align:center; padding: 50px;">
                <i class="fas fa-fingerprint fa-spin" style="font-size: 3rem; color: #00d4ff;"></i>
                <p style="margin-top:15px;">Finding keywords...</p>
            </div>

            <div id="quiz-section" class="card" style="display:none;">
                <div class="quiz-header" style="display:flex; justify-content:space-between;">
                    <span id="q-num" style="color:#00d4ff; font-weight:bold;">Question 1</span>
                    <span id="score-tracker">Score: 0</span>
                </div>
                
                <div id="question-text" style="font-size: 1.25rem; margin: 20px 0; font-weight:500; line-height:1.6;"></div>
                
                <div id="input-container">
                    <input type="text" id="userAnswer" class="answer-input" placeholder="Type answer here..." autocomplete="off">
                    <button id="submitAnswerBtn" class="submit-btn" onclick="checkAnswer()">Submit</button>
                    <div id="feedback-text" class="feedback-text"></div>
                </div>

                <div id="next-btn-container" style="margin-top:20px; text-align:right;">
                    <button onclick="nextQuestion()" id="next-btn" style="display:none; padding:10px 20px; background:#333; border:1px solid #555; color:#fff; cursor:pointer;">Next Question <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <div id="results-section" class="card" style="display:none; text-align:center;">
                <h2>Quiz <span>Complete</span></h2>
                <div id="final-score" style="font-size: 4rem; color: #00d4ff; font-weight: 900; margin: 20px 0;">0/0</div>
                <p id="feedback-msg"></p>
                <button onclick="location.reload()" class="btn-primary" style="padding:10px 20px; background:#fff; border:none; cursor:pointer;">Create New Quiz</button>
            </div>
        </div>
    </main>

    <script src="../navbar.js"></script>
    <script src="../Identification/iden.js"></script>

</body>
</html>